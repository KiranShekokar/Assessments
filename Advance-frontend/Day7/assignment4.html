<!DOCTYPE html>
<html>
    <head>
        <title>Table+Promise</title>
    </head>
    <body>
        <h1 align="center">Table + Promise</h1><hr/>
        <button type="button" id="button">Show Data</button><br/><br/>
        <table id="table" border="2" cellpadding="5px">
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Avatar</th>
            </tr>
        </table>

        <script>
            var btnObj = document.getElementById("button");
            btnObj.addEventListener("click",fn_getData);

            function fn_getData(){
                var url = "https://reqres.in/api/users";
                fetch(url).then((response)=>{
                    response.json().then((result)=>
                    {
                      //  console.log(result);
                       // console.log(result.data[1]);
                       for(var i=0;i<result.data.length;i++){
                       var tableObj = document.getElementById("table");
                       var row = tableObj.insertRow(-1);
                       var cell1 = row.insertCell(-1);
                       var cell2 = row.insertCell(-1);
                       var cell3 = row.insertCell(-1);
                       var cell4 = row.insertCell(-1);
                       var cell5 = row.insertCell(-1);

                       cell1.innerHTML = result.data[i].id;
                       cell2.innerHTML = result.data[i].email;
                       cell3.innerHTML = result.data[i].first_name;
                       cell4.innerHTML = result.data[i].last_name;
                       cell5.innerHTML = "<img src="+result.data[i].avatar+">";

                       if(tableObj.rows.length>(result.data.length+1)){
                        tableObj.deleteRow(-1);
                      }
                       } 
                      // console.log(tableObj.rows.length);
                     
                    })
                       
                });
            }
        </script>
    </body>
</html>